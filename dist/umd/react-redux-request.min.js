!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("crypto"),require("react"),require("react-redux")):"function"==typeof define&&define.amd?define(["exports","crypto","react","react-redux"],r):r(t.ReactReduxRequest={},null,t.React,t.ReactRedux)}(this,function(t,r,e,n){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,e=e&&e.hasOwnProperty("default")?e.default:e;var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t,r){return t(r={exports:{}},r.exports),r.exports}function a(t){return function(){return t}}var u=function(){};u.thatReturns=a,u.thatReturnsFalse=a(!1),u.thatReturnsTrue=a(!0),u.thatReturnsNull=a(null),u.thatReturnsThis=function(){return this},u.thatReturnsArgument=function(t){return t};var c=u,s=function(t){};var f=function(t,r,e,n,o,i,a,u){if(s(r),!t){var c;if(void 0===r)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[e,n,o,i,a,u],l=0;(c=new Error(r.replace(/%s/g,function(){return f[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",h=i(function(t){t.exports=function(){function t(t,r,e,n,o,i){i!==l&&f(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function r(){return t}t.isRequired=t;var e={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r};return e.checkPropTypes=c,e.PropTypes=e,e}()}),p=i(function(t,e){function n(t,e){return function(t,e){var n;n="passthrough"!==e.algorithm?r.createHash(e.algorithm):new s;void 0===n.write&&(n.write=n.update,n.end=n.update);c(e,n).dispatch(t),n.update||n.end("");if(n.digest)return n.digest("buffer"===e.encoding?void 0:e.encoding);var o=n.read();if("buffer"===e.encoding)return o;return o.toString(e.encoding)}(t,e=a(t,e))}(e=t.exports=n).sha1=function(t){return n(t)},e.keys=function(t){return n(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},e.MD5=function(t){return n(t,{algorithm:"md5",encoding:"hex"})},e.keysMD5=function(t){return n(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var o=r.getHashes?r.getHashes().slice():["sha1","md5"];o.push("passthrough");var i=["buffer","hex","binary","base64"];function a(t,r){if((r=r||{}).algorithm=r.algorithm||"sha1",r.encoding=r.encoding||"hex",r.excludeValues=!!r.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===r.ignoreUnknown,r.respectType=!1!==r.respectType,r.respectFunctionNames=!1!==r.respectFunctionNames,r.respectFunctionProperties=!1!==r.respectFunctionProperties,r.unorderedArrays=!0===r.unorderedArrays,r.unorderedSets=!1!==r.unorderedSets,r.unorderedObjects=!1!==r.unorderedObjects,r.replacer=r.replacer||void 0,r.excludeKeys=r.excludeKeys||void 0,void 0===t)throw new Error("Object argument required.");for(var e=0;e<o.length;++e)o[e].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=o[e]);if(-1===o.indexOf(r.algorithm))throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+o.join(", "));if(-1===i.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+i.join(", "));return r}function u(t){if("function"!=typeof t)return!1;return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(t))}function c(t,r,e){e=e||[];var n=function(t){return r.update?r.update(t,"utf8"):r.write(t,"utf8")};return{dispatch:function(r){t.replacer&&(r=t.replacer(r));var e=typeof r;return null===r&&(e="null"),this["_"+e](r)},_object:function(r){var o=Object.prototype.toString.call(r),i=/\[object (.*)\]/i.exec(o);i=(i=i?i[1]:"unknown:["+o+"]").toLowerCase();var a;if((a=e.indexOf(r))>=0)return this.dispatch("[CIRCULAR:"+a+"]");if(e.push(r),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(r))return n("buffer:"),n(r);if("object"===i||"function"===i){var c=Object.keys(r);t.unorderedObjects&&(c=c.sort()),!1===t.respectType||u(r)||c.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(c=c.filter(function(r){return!t.excludeKeys(r)})),n("object:"+c.length+":");var s=this;return c.forEach(function(e){s.dispatch(e),n(":"),t.excludeValues||s.dispatch(r[e]),n(",")})}if(!this["_"+i]){if(t.ignoreUnknown)return n("["+i+"]");throw new Error('Unknown object type "'+i+'"')}this["_"+i](r)},_array:function(r,o){o=void 0!==o?o:!1!==t.unorderedArrays;var i=this;if(n("array:"+r.length+":"),!o||r.length<=1)return r.forEach(function(t){return i.dispatch(t)});var a=[],u=r.map(function(r){var n=new s,o=e.slice();return c(t,n,o).dispatch(r),a=a.concat(o.slice(e.length)),n.read().toString()});return e=e.concat(a),u.sort(),this._array(u,!1)},_date:function(t){return n("date:"+t.toJSON())},_symbol:function(t){return n("symbol:"+t.toString())},_error:function(t){return n("error:"+t.toString())},_boolean:function(t){return n("bool:"+t.toString())},_string:function(t){n("string:"+t.length+":"),n(t)},_function:function(r){n("fn:"),u(r)?this.dispatch("[native]"):this.dispatch(r.toString()),!1!==t.respectFunctionNames&&this.dispatch("function-name:"+String(r.name)),t.respectFunctionProperties&&this._object(r)},_number:function(t){return n("number:"+t.toString())},_xml:function(t){return n("xml:"+t.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(t){return n("regex:"+t.toString())},_uint8array:function(t){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint8clampedarray:function(t){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},_int8array:function(t){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},_uint16array:function(t){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_int16array:function(t){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},_uint32array:function(t){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_int32array:function(t){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},_float32array:function(t){return n("float32array:"),this.dispatch(Array.prototype.slice.call(t))},_float64array:function(t){return n("float64array:"),this.dispatch(Array.prototype.slice.call(t))},_arraybuffer:function(t){return n("arraybuffer:"),this.dispatch(new Uint8Array(t))},_url:function(t){return n("url:"+t.toString())},_map:function(r){n("map:");var e=Array.from(r);return this._array(e,!1!==t.unorderedSets)},_set:function(r){n("set:");var e=Array.from(r);return this._array(e,!1!==t.unorderedSets)},_blob:function(){if(t.ignoreUnknown)return n("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return n("domwindow")},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function s(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}e.writeToStream=function(t,r,e){return void 0===e&&(e=r,r={}),c(r=a(t,r),e).dispatch(t)}}),d=(p.sha1,p.keys,p.MD5,p.keysMD5,p.writeToStream,"Expected a function"),y="__lodash_hash_undefined__",g=1/0,v="[object Function]",_="[object GeneratorFunction]",m="[object Symbol]",w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/,x=/^\./,E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O=/\\(\\)?/g,S=/^\[object .+?Constructor\]$/,R="object"==typeof o&&o&&o.Object===Object&&o,A="object"==typeof self&&self&&self.Object===Object&&self,j=R||A||Function("return this")();var L,U=Array.prototype,T=Function.prototype,k=Object.prototype,P=j["__core-js_shared__"],N=(L=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",C=T.toString,F=k.hasOwnProperty,I=k.toString,D=RegExp("^"+C.call(F).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=j.Symbol,G=U.splice,M=J(j,"Map"),$=J(Object,"create"),H=q?q.prototype:void 0,B=H?H.toString:void 0;function V(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function K(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function Q(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function X(t,r){for(var e,n,o=t.length;o--;)if((e=t[o][0])===(n=r)||e!=e&&n!=n)return o;return-1}function Y(t,r){for(var e,n=0,o=(r=function(t,r){if(et(t))return!1;var e=typeof t;if("number"==e||"symbol"==e||"boolean"==e||null==t||ot(t))return!0;return b.test(t)||!w.test(t)||null!=r&&t in Object(r)}(r,t)?[r]:et(e=r)?e:Z(e)).length;null!=t&&n<o;)t=t[tt(r[n++])];return n&&n==o?t:void 0}function z(t){return!(!nt(t)||N&&N in t)&&(function(t){var r=nt(t)?I.call(t):"";return r==v||r==_}(t)||function(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(t){}return r}(t)?D:S).test(function(t){if(null!=t){try{return C.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function W(t,r){var e,n,o=t.__data__;return("string"==(n=typeof(e=r))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e)?o["string"==typeof r?"string":"hash"]:o.map}function J(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return z(e)?e:void 0}V.prototype.clear=function(){this.__data__=$?$(null):{}},V.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},V.prototype.get=function(t){var r=this.__data__;if($){var e=r[t];return e===y?void 0:e}return F.call(r,t)?r[t]:void 0},V.prototype.has=function(t){var r=this.__data__;return $?void 0!==r[t]:F.call(r,t)},V.prototype.set=function(t,r){return this.__data__[t]=$&&void 0===r?y:r,this},K.prototype.clear=function(){this.__data__=[]},K.prototype.delete=function(t){var r=this.__data__,e=X(r,t);return!(e<0||(e==r.length-1?r.pop():G.call(r,e,1),0))},K.prototype.get=function(t){var r=this.__data__,e=X(r,t);return e<0?void 0:r[e][1]},K.prototype.has=function(t){return X(this.__data__,t)>-1},K.prototype.set=function(t,r){var e=this.__data__,n=X(e,t);return n<0?e.push([t,r]):e[n][1]=r,this},Q.prototype.clear=function(){this.__data__={hash:new V,map:new(M||K),string:new V}},Q.prototype.delete=function(t){return W(this,t).delete(t)},Q.prototype.get=function(t){return W(this,t).get(t)},Q.prototype.has=function(t){return W(this,t).has(t)},Q.prototype.set=function(t,r){return W(this,t).set(t,r),this};var Z=rt(function(t){var r;t=null==(r=t)?"":function(t){if("string"==typeof t)return t;if(ot(t))return B?B.call(t):"";var r=t+"";return"0"==r&&1/t==-g?"-0":r}(r);var e=[];return x.test(t)&&e.push(""),t.replace(E,function(t,r,n,o){e.push(n?o.replace(O,"$1"):r||t)}),e});function tt(t){if("string"==typeof t||ot(t))return t;var r=t+"";return"0"==r&&1/t==-g?"-0":r}function rt(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new TypeError(d);var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return e.cache=i.set(o,a),a};return e.cache=new(rt.Cache||Q),e}rt.Cache=Q;var et=Array.isArray;function nt(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function ot(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&I.call(t)==m}var it=function(t,r,e){var n=null==t?void 0:Y(t,r);return void 0===n?e:n},at=i(function(t){!function(r){var e,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",s=r.regeneratorRuntime;if(s)t.exports=s;else{(s=r.regeneratorRuntime=t.exports).wrap=m;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",d={},y={};y[a]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(U([])));v&&v!==n&&o.call(v,a)&&(y=v);var _=E.prototype=b.prototype=Object.create(y);x.prototype=_.constructor=E,E.constructor=x,E[c]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===x||"GeneratorFunction"===(r.displayName||r.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,E):(t.__proto__=E,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(_),t},s.awrap=function(t){return{__await:t}},O(S.prototype),S.prototype[u]=function(){return this},s.AsyncIterator=S,s.async=function(t,r,e,n){var o=new S(m(t,r,e,n));return s.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(_),_[c]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},s.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},s.values=U,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),d},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),j(e),d}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;j(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:U(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),d}}}function m(t,r,e,n){var o=r&&r.prototype instanceof b?r:b,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return T()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=R(a,e);if(u){if(u===d)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=h;var c=w(t,r,e);if("normal"===c.type){if(n=e.done?p:l,c.arg===d)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(n=p,e.method="throw",e.arg=c.arg)}}}(t,e,a),i}function w(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}function b(){}function x(){}function E(){}function O(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function S(t){var r;this._invoke=function(e,n){function i(){return new Promise(function(r,i){!function r(e,n,i,a){var u=w(t[e],t,n);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==typeof s&&o.call(s,"__await")?Promise.resolve(s.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(s).then(function(t){c.value=t,i(c)},a)}a(u.arg)}(e,n,r,i)})}return r=r?r.then(i,i):i()}}function R(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,R(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function A(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function j(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function U(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}return{next:T}}function T(){return{value:e,done:!0}}}(function(){return this}()||Function("return this")())}),ut=function(){return this}()||Function("return this")(),ct=ut.regeneratorRuntime&&Object.getOwnPropertyNames(ut).indexOf("regeneratorRuntime")>=0,st=ct&&ut.regeneratorRuntime;ut.regeneratorRuntime=void 0;var ft=at;if(ct)ut.regeneratorRuntime=st;else try{delete ut.regeneratorRuntime}catch(t){ut.regeneratorRuntime=void 0}var lt=ft,ht=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},pt=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}(),dt=function(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t},yt=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},gt=function(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?t:r},vt=function(t){if(Array.isArray(t)){for(var r=0,e=Array(t.length);r<t.length;r++)e[r]=t[r];return e}return Array.from(t)},_t={LOADING:"REDUX_REQUEST_LOADING",SUCCESS:"REDUX_REQUEST_SUCCESS",FAILURE:"REDUX_REQUEST_FAILURE",UNMOUNT:"REDUX_REQUEST_COMPONENT_UNMOUNT"},mt={LOADING:"LOADING",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};var wt,bt,xt=(wt=lt.mark(function t(r){var e,n,o=r.args,i=r.dispatch,a=r.fn,u=r.hasError,c=r.hashedArgs,s=r.id,f=r.preventFetch,l=r.prevHashedArgs,h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return lt.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!f&&l!==c&&!u){t.next=3;break}return t.abrupt("return");case 3:return i({id:s,hashedArgs:c,type:_t.LOADING}),e=Ot(),h.fetchId=e,t.prev=6,t.next=9,a.apply(void 0,vt(o));case 9:n=t.sent,e===h.fetchId&&i({data:n,hashedArgs:c,id:s,type:_t.SUCCESS}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),e===h.fetchId&&(console.error(t.t0),i({error:t.t0,hashedArgs:c,id:s,type:_t.FAILURE}));case 16:case"end":return t.stop()}},t,this,[[6,13]])}),bt=function(){var t=wt.apply(this,arguments);return new Promise(function(r,e){return function n(o,i){try{var a=t[o](i),u=a.value}catch(t){return void e(t)}if(!a.done)return Promise.resolve(u).then(function(t){n("next",t)},function(t){n("throw",t)});r(u)}("next")})},function(t){return bt.apply(this,arguments)}),Et=0;function Ot(){return Et+=1}var St=function(t){function r(){return ht(this,r),gt(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}(r,e.Component),pt(r,[{key:"componentDidMount",value:function(){xt(this.props,this)}},{key:"componentDidUpdate",value:function(){xt(this.props,this)}},{key:"componentWillUnmount",value:function(){var t=this.props;(0,t.dispatch)({id:t.id,type:_t.UNMOUNT}),this.fetchId=null}},{key:"render",value:function(){var t=this.props,r=t.hasError,e=t.render,n=t.selectorResult;if(r)return null;try{return e(n)}catch(t){return console.error('The render method of "Request#'+this.props.id+'" threw an error:\n',t),null}}}]),r}();St.propTypes={args:h.array,dispatch:h.func.isRequired,fn:h.func.isRequired,hasError:h.bool,hashedArgs:h.string.isRequired,id:h.string.isRequired,preventFetch:h.bool.isRequired,prevHashedArgs:h.string,render:h.func,selectorResult:h.any},St.defaultProps={args:[],hasError:!1,preventFetch:!1,render:function(){},selectorResult:{}};var Rt=n.connect(function(t,r){var e=r.args,n=r.id,o=r.selector,i=p(e),a=void 0;try{a=o(t,{id:n})}catch(t){return console.error('The selector for "Request#'+n+'" threw an error:\n',t),{hashedArgs:i,hasError:!0}}return{prevHashedArgs:it(t.reactReduxRequest[n],"hashedArgs"),hashedArgs:i,selectorResult:a}},function(t){return{dispatch:t}})(St);Rt.propTypes={args:h.array,fn:h.func.isRequired,id:h.string.isRequired,preventFetch:h.bool,render:h.func,selector:h.func},Rt.defaultProps={args:[],selector:function(t,r){return t.reactReduxRequest[r.id]}},t.Request=Rt,t.reducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];switch(r.type){case _t.LOADING:case _t.SUCCESS:case _t.FAILURE:var e=r.id,n=r.data,o=r.error,i=r.hashedArgs;return yt({},t,dt({},e,{status:function(t){switch(t){case _t.LOADING:return mt.LOADING;case _t.SUCCESS:return mt.SUCCESS;case _t.FAILURE:return mt.FAILURE;default:throw new Error("Unknown type:",t)}}(r.type),data:n||it(t[e],"data"),error:o||it(t[e],"error"),hashedArgs:i}));case _t.UNMOUNT:var a=r.id;return yt({},t,dt({},a,it(t[a],"status")===mt.SUCCESS?t[a]:{}));default:return t}},Object.defineProperty(t,"__esModule",{value:!0})});
